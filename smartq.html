<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
 <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script>
$(document).ready(function(){

$.ajax({
  type: 'GET',
  url: 'https://thesmartq.firebaseio.com/menu.json',
  contentType: 'text/plain',
  success: function(data) {
    console.log(data);
    for (var i = 0; i<data.length; i++) 
    {
    	console.log(data[i].category);
    	if (data[i].category=='Oriental') 
    	{
    		if (data[i].vegflag=='veg') {
    			veg_data_flag="<span class='glyphicon glyphicon-record' style='color:green;'></span>"
    		}
    		else
    		{
    			veg_data_flag="<span class='glyphicon glyphicon-record' style='color:red;'></span>"
    		}
    		plus_minus_button="<div class='input-group'><span class='input-group-btn'><button class='btn btn-white btn-minuse' type='button'>-</button></span><input type='text' class='form-control no-padding add-color text-center height-25' maxlength='3' value='0' style='width: 100%'><span class='input-group-btn'><button class='btn btn-red btn-pluss' type='button'>+</button></span></div>"
    		
    		var date = new Date();
			var time = date.getHours() + ":" + date.getMinutes();
			var start_end_time = data[i].availabletime.split('-');
			var start_time=start_end_time[0];
			var end_time=start_end_time[1];

			if (time>start_time && time<end_time) 
				{
					var add_class_active="success"
					var button_class=""
				}
			else
				{
					var add_class_active="info"
					var button_class="disabled"
				}

    		var table_data="<tr class='"+add_class_active+"'><td>"+veg_data_flag+"</td><td>"+data[i].name+"</td><td>"+data[i].price+"</td><td style='width: 8em;'>"+plus_minus_button+"</td><td><button type='button' class='btn btn-primary product_button btn-block "+button_class+"'>Add</button></td></tr>"
    		$('#oriental_table tbody').append(table_data);

    	}
    	 else if(data[i].category=='Chinese Combos')
    	 {
    	 	if (data[i].vegflag=='veg') {
    			veg_data_flag="<span class='glyphicon glyphicon-record' style='color:green;'></span>"
    		}
    		else
    		{
    			veg_data_flag="<span class='glyphicon glyphicon-record' style='color:red;'></span>"
    		}
    		plus_minus_button="<div class='input-group'><span class='input-group-btn'><button class='btn btn-white btn-minuse' type='button'>-</button></span><input type='text' class='form-control no-padding add-color text-center height-25' maxlength='3' value='0' style='width: 100%'><span class='input-group-btn'><button class='btn btn-red btn-pluss' type='button'>+</button></span></div>"
    		
    		var date = new Date();
			var time = date.getHours() + ":" + date.getMinutes();
			var start_end_time = data[i].availabletime.split('-');
			var start_time=start_end_time[0];
			var end_time=start_end_time[1];

			if (time>start_time && time<end_time) 
				{
					var add_class_active="success"
					var button_class="";
				}
			else
				{
					var add_class_active="info";
					var button_class="disabled"
				}

    		var table_data="<tr class='"+add_class_active+"'><td>"+veg_data_flag+"</td><td>"+data[i].name+"</td><td>"+data[i].price+"</td><td style='width: 8em;'>"+plus_minus_button+"</td><td><button type='button' class='btn btn-primary product_button btn-block "+button_class+"'>Add</button></td></tr>"
    		$('#chinese_combos_table tbody').append(table_data);
    	 }
    	 else if(data[i].category=='Chinese Starter')
    	 {
    	 	if (data[i].vegflag=='veg') {
    			veg_data_flag="<span class='glyphicon glyphicon-record' style='color:green;'></span>"
    		}
    		else
    		{
    			veg_data_flag="<span class='glyphicon glyphicon-record' style='color:red;'></span>"
    		}
    		plus_minus_button="<div class='input-group'><span class='input-group-btn'><button class='btn btn-white btn-minuse' type='button'>-</button></span><input type='text' class='form-control no-padding add-color text-center height-25' maxlength='3' value='0' style='width: 100%'><span class='input-group-btn'><button class='btn btn-red btn-pluss' type='button'>+</button></span></div>"
    		
    		var date = new Date();
			var time = date.getHours() + ":" + date.getMinutes();
			var start_end_time = data[i].availabletime.split('-');
			var start_time=start_end_time[0];
			var end_time=start_end_time[1];

			if (time>start_time && time<end_time) 
				{
					var add_class_active="success";
					var button_class="";
				}
			else
				{
					var add_class_active="info";
					var button_class="disabled"
				}

    		var table_data="<tr class='"+add_class_active+"'><td>"+veg_data_flag+"</td><td>"+data[i].name+"</td><td>"+data[i].price+"</td><td style='width: 8em;'>"+plus_minus_button+"</td><td><button type='button' class='btn btn-primary product_button btn-block "+button_class+"'>Add</button></td></tr>"
    		$('#chinese_starter_table tbody').append(table_data);
    	 }

    	 else if(data[i].category=='Salads')
    	 {
    	 	if (data[i].vegflag=='veg') {
    			veg_data_flag="<span class='glyphicon glyphicon-record' style='color:green;'></span>"
    		}
    		else
    		{
    			veg_data_flag="<span class='glyphicon glyphicon-record' style='color:red;'></span>"
    		}
    		plus_minus_button="<div class='input-group'><span class='input-group-btn'><button class='btn btn-white btn-minuse' type='button'>-</button></span><input type='text' class='form-control no-padding add-color text-center height-25' maxlength='3' value='0' style='width: 100%'><span class='input-group-btn'><button class='btn btn-red btn-pluss' type='button'>+</button></span></div>"
    		
    		var date = new Date();
			var time = date.getHours() + ":" + date.getMinutes();
			var start_end_time = data[i].availabletime.split('-');
			var start_time=start_end_time[0];
			var end_time=start_end_time[1];

			if (time>start_time && time<end_time) 
				{
					var add_class_active="success"
					var button_class=""
				}
			else
				{
					var add_class_active="info"
					var button_class="disabled"
				}

    		var table_data="<tr class='"+add_class_active+"'><td>"+veg_data_flag+"</td><td>"+data[i].name+"</td><td>"+data[i].price+"</td><td style='width: 8em;'>"+plus_minus_button+"</td><td><button type='button' class='btn btn-primary product_button btn-block "+button_class+"'>Add</button></td></tr>"
    		$('#salads_table tbody').append(table_data);
    	 }



    };

    $('.btn-minuse').click(function(){
    	if ($(this).parent().siblings('input').val()>0) 
    		{
    			$(this).parent().siblings('input').val(parseInt($(this).parent().siblings('input').val()) - 1)
    		};      
	})
	$('.btn-pluss').click(function(){
       $(this).parent().siblings('input').val(parseInt($(this).parent().siblings('input').val()) + 1)
	});

	$(".product_button").click(function(){
			var cart_price=$(this).parent().siblings('td:nth-child(3)').html();
			var cart_product=$(this).parent().siblings('td:nth-child(2)').html();
			var cart_quantity=$(this).parent().siblings('td:nth-child(4)').find("input").val();
			if (cart_quantity>0) 
			{
				var cart_table_data="<tr><td>"+cart_product+"</td><td>"+cart_price+"</td><td>"+cart_quantity+"</td></tr>";
				$('#cart_table tbody').append(cart_table_data);
				$('.check_buttton').removeClass('disabled')
			};
			
		});


	$(".glyphicon-trash").click(function(){
	 	$('#cart_table tbody tr').remove();
	 	$('.check_buttton').addClass('disabled')

	 });



  },
  error: function() {
  }
});

});
</script>
</head>
<body>
	<div class="row">
		<div class="col-sm-12">
<nav class="navbar navbar-inverse">
  <div class="container-fluid">

  	<div class="row">
  		<div class="col-sm-1"></div>
  		<div class="col-sm-10">

  			<div class="navbar-header">
      			<a class="navbar-brand" href="#">SmartQ</a>
    		</div>
    		 <ul class="nav navbar-nav">
			      <li><a href="#">Home</a></li>
			    </ul>
			    <ul class="nav navbar-nav navbar-right">
			      <li><a href="#"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
			      <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
			    </ul>



  		</div>


  	</div>

    
   
  </div>
</nav>
</div>

</div>
<div class="container">
	<div class="row">
		<div class="col-sm-3">
			<div class="list-group">
		    <a href="#all" data-toggle="tab" class="list-group-item active">All</a>
		    <a id="oriental_list_button" href="#oriental" data-toggle="tab"class="list-group-item">Oriental</a>
		    <a href="#chinese_combos" data-toggle="tab" class="list-group-item">Chinese Combos</a>
		    <a href="#chinese_starter" data-toggle="tab" class="list-group-item">Chinese Starters</a>
		    <a href="#salads" data-toggle="tab" class="list-group-item">Salads</a>
		  </div>

		  <div class="panel panel-default">
		  	<div class="panel-body">
		  		<table class="table table-striped table-bordered">
		  			<tr>
		  				<td><span class='glyphicon glyphicon-record' style='color:green;'></span></td>
		  				<td>Veg</td>
		  			</tr>
		  			<tr>
		  				<td><span class='glyphicon glyphicon-record' style='color:red;'></span></td>
		  				<td>Non-Veg</td>
		  			</tr>

		  		</table>
		  	</div>
		  </div>


		  <div class="panel panel-default">
		  	<div class="panel-body">
		  		<table class="table table-striped table-bordered">
		  			<tr>
		  				<td style="background-color:#dff0d8"></td>
		  				<td>Available Now</td>
		  			</tr>
		  			<tr>
		  				<td style="background-color:#d9edf7"></td>
		  				<td>Not Available at this time</td>
		  			</tr>

		  		</table>
		  	</div>
		  </div>



		</div>
		<div class="col-sm-6" >
			<div class="tab-content">
			    <div id="all" class="tab-pane fade in active" style="height: 500px;overflow-y: scroll">

			    	<div class="panel panel-default">
    					<div class="panel-heading" style='text-align:center'>Oriental</div>
    					<table id="oriental_table" class="table table-striped table-condensed table-bordered">
			    			<thead>
			    				<tr>
			    					<th>Type</th>
			    					<th>Name</th>
			    					<th>Price</th>
			    					<th>Quantity</th>
			    					<th></th>
			    				</tr>
			    			</thead>
			    			<tbody>
			    			</tbody>
			    		</table>
    				</div>



    				<div class="panel panel-default">
    					<div class="panel-heading" style='text-align:center'>Chinese Combos</div>
    					<table id="chinese_combos_table" class="table table-striped table-condensed table-bordered">
			    			<thead>
			    				<tr>
			    					<th>Type</th>
			    					<th>Name</th>
			    					<th>Price</th>
			    					<th>Quantity</th>
			    					<th></th>
			    				</tr>
			    			</thead>
			    			<tbody>
			    			</tbody>
			    		</table>
    				</div>


    				<div class="panel panel-default">
    					<div class="panel-heading" style='text-align:center'>Chinese Starters</div>
    					<table id="chinese_starter_table" class="table table-striped table-condensed table-bordered">
			    			<thead>
			    				<tr>
			    					<th>Type</th>
			    					<th>Name</th>
			    					<th>Price</th>
			    					<th>Quantity</th>
			    					<th></th>
			    				</tr>
			    			</thead>
			    			<tbody>
			    			</tbody>
			    		</table>
    				</div>


    				<div class="panel panel-default">
    					<div class="panel-heading" style='text-align:center'>Salads</div>
    					<table id="salads_table" class="table table-striped table-condensed table-bordered">
			    			<thead>
			    				<tr>
			    					<th>Type</th>
			    					<th>Name</th>
			    					<th>Price</th>
			    					<th>Quantity</th>
			    					<th></th>
			    				</tr>
			    			</thead>
			    			<tbody>
			    			</tbody>
			    		</table>
    				</div>



			      
			    </div>


			    <div id="oriental" class="tab-pane fade">
			    	<div>
			    		<table id="oriental_table" class="table table-striped table-condensed table-bordered">
			    			<thead>
			    				<tr>
			    					<th>Type</th>
			    					<th>Name</th>
			    					<th>Price</th>
			    					<th>Quantity</th>
			    					<th></th>
			    				</tr>
			    			</thead>
			    			<tbody>
			    			</tbody>
			    		</table>


			    	</div>
			      
			    </div>

			    <div id="chinese_combos" class="tab-pane fade">

			    	<div>
			    		<table id="chinese_combos_table" class="table table-striped table-condensed table-bordered">
			    			<thead>
			    				<tr>
			    					<th>Type</th>
			    					<th>Name</th>
			    					<th>Price</th>
			    					<th>Quantity</th>
			    					<th></th>
			    				</tr>
			    			</thead>
			    			<tbody>
			    				

			    			</tbody>

			    		</table>


			    	</div>
			     
			    </div>

			    <div id="chinese_starter" class="tab-pane fade">
			      <div>
			    		<table id="chinese_starter_table" class="table table-striped table-condensed table-bordered">
			    			<thead>
			    				<tr>
			    					<th>Type</th>
			    					<th>Name</th>
			    					<th>Price</th>
			    					<th>Quantity</th>
			    					<th></th>
			    				</tr>
			    			</thead>
			    			<tbody>
			    				

			    			</tbody>

			    		</table>


			    	</div>
			    </div>

			    <div id="salads" class="tab-pane fade">
			      <div>
			    		<table id="salads_table" class="table table-striped table-condensed table-bordered">
			    			<thead>
			    				<tr>
			    					<th>Type</th>
			    					<th>Name</th>
			    					<th>Price</th>
			    					<th>Quantity</th>
			    					<th></th>
			    				</tr>
			    			</thead>
			    			<tbody>
			    				

			    			</tbody>

			    		</table>


			    	</div>
			    </div>




  </div>
		</div>
		<div class="col-sm-3">

<div class="panel panel-default">
    <div class="panel-heading">Your Cart <span class="glyphicon glyphicon-trash" style='float: right'></span></div>
    <div class="panel-body">

					<table id="cart_table" class="table table-striped table-condensed table-bordered">
			    			<thead>
			    				<tr>
			    					<th>Name</th>
			    					<th>Price</th>
			    					<th>Quantity</th>
			    				</tr>
			    			</thead>
			    			<tbody>
			    				
			    				
			    			</tbody>

			    		</table>

<button type='button' class='btn btn-primary btn-block check_buttton disabled'>Check Out</button>


    </div>
  </div>

    				

			
		</div>

	</div>

</div>

</body>


<script>
$(".list-group-item").click(function(){
  $(".list-group-item").removeClass("active");
  $(this).addClass("active");
});

// $('#oriental_list_button').click(function() {
// 	//alert("lll");

// 	$('html, body').animate({
//         //scrollTop: $("#qwert").offset().top
//         scrollTop: $('#qwert').position().top 
//     }, 2000);
   



// });




</script>
<style>
/*#salads_table thead{
	background-color: #337ab7;
}*/
.info{
	opacity: 0.5;
}

</style>

</html>